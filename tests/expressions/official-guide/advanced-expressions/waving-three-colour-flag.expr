#first we define the three colors:
 h1 = 0; s1 = 1; v1 = 1; #red
 h2 = 0; s2 = 0; v2 = 1; #white
 h3 = 240; s3 = 1; v3 = 1; #blue

#masks for each stripe:
 mask1 = y > (100/3);
 mask2 = (y < (100/3)) * (y > (-100/3));
 mask3 = y < (-100/3);

#wave stuff:
 angle = (time + fraction * 18) * tau;

#output:
 x' = x + sin(angle) * 4;
 y' = y + cos(angle) * 4;

 h = h1 * mask1 + h2 * mask2 + h3 * mask3;
 s = s1 * mask1 + s2 * mask2 + s3 * mask3;
 v = v1 * mask1 + v2 * mask2 + v3 * mask3;